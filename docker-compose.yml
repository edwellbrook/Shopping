version: '2'

services:
    web:
        build: ./web
        depends_on:
            - 'rabbitmq'
            - 'postgres'
        ports:
            - '80:8080'
    interface:
        build: ./interface
        depends_on:
            - 'rabbitmq'
            - 'postgres'
        devices:
            - '/dev/ttyACM0:/dev/tty.app'
    rabbitmq:
        image: 'cyrilix/rabbitmq-mqtt:latest'
    postgres:
        image: 'postgres:9.6.1-alpine'
